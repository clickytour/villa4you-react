<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Concept 1 Refined ‚Äî Proposal Collection</title>
  <style>
    :root {
      --bg: #f6f7fb;
      --card: #fff;
      --text: #1f2430;
      --muted: #6f7787;
      --line: #e6e8ef;
      --brand: #ff6b2c;
    }
    * { box-sizing: border-box; }
    body { margin:0; font-family: Inter, Segoe UI, Arial, sans-serif; background:var(--bg); color:var(--text); }

    .toolbar {
      position: sticky; top:0; z-index: 5;
      background:#0f1420; color:#fff; padding:12px 14px;
      display:flex; gap:12px; flex-wrap:wrap; align-items:center;
    }
    .toolbar select { padding:7px 8px; border-radius:8px; border:1px solid #2c3448; background:#161d2d; color:#fff; }
    .toolbar .hint { color:#b9c1d4; font-size:12px; }

    .app { max-width:980px; margin:18px auto; padding:0 14px 24px; }
    .shell { border:1px solid var(--line); border-radius:16px; overflow:hidden; background:#fff; }
    .top {
      display:flex; justify-content:space-between; align-items:flex-start; gap:10px;
      border-bottom:1px solid var(--line); padding:14px 16px;
      background:linear-gradient(180deg,#fff,#fcfdff);
    }
    .logo { font-weight:800; letter-spacing:.2px; }
    .logo span { color:var(--brand); }
    .wl .logo { display:none; }
    .muted { color:var(--muted); font-size:13px; }
    .badge { font-size:12px; padding:4px 8px; border:1px solid #ffd9ca; background:#fff3ee; color:#8f2e00; border-radius:999px; }

    .content { padding:14px; }
    .collection-hero {
      border:1px solid var(--line); border-radius:12px; background:#fbfcff; padding:12px; margin-bottom:12px;
    }
    .collection-hero h3 { margin:0 0 6px; font-size:18px; }
    .pill-row { display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
    .pill { font-size:12px; border:1px solid var(--line); border-radius:999px; padding:4px 8px; background:#fff; }

    .stack { display:grid; gap:10px; }
    .card { border:1px solid var(--line); border-radius:12px; background:var(--card); padding:12px; }
    .head { display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center; }
    .head h4 { margin:0; font-size:16px; }
    .price { font-weight:700; }
    .actions { display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
    .btn { border:1px solid var(--line); background:#fff; border-radius:10px; padding:7px 10px; font-size:13px; }
    .btn.primary { background:#111827; color:#fff; border-color:#111827; }

    .dock {
      position: sticky; bottom:10px; margin-top:12px;
      border:1px solid var(--line); background:#fff; border-radius:12px; padding:10px;
      display:flex; justify-content:space-between; gap:8px; align-items:center;
    }
  </style>
</head>
<body>
  <div class="toolbar">
    <label>Shared link (proposal collection):
      <select id="collectionSel"></select>
    </label>
    <label>Variant:
      <select id="variantSel">
        <option value="brand">Branded Villa4you</option>
        <option value="wl">No-logo (white-label locked nav)</option>
      </select>
    </label>
    <span class="hint">Each link opens only its own curated cards. No listing names, ID-only references.</span>
  </div>

  <div class="app">
    <div id="shell" class="shell brand">
      <div class="top">
        <div>
          <div class="logo">Villa<span>4</span>you</div>
          <div class="muted" id="subtitle">Your tailored proposal collection</div>
        </div>
        <div class="badge" id="navState">Secure proposal session</div>
      </div>

      <div class="content">
        <section class="collection-hero">
          <h3 id="collectionTitle">Collection</h3>
          <div class="muted" id="collectionMeta"></div>
          <div class="pill-row" id="pillRow"></div>
        </section>

        <section class="stack" id="stack"></section>

        <div class="dock">
          <span class="muted" id="dockText">Events: collection_view ‚Ä¢ card_impression ‚Ä¢ feedback_selected ‚Ä¢ cta_book</span>
          <button class="btn primary">Continue with preferred option</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const collections = [
      {
        link: '/p/PR-26A7/c/COL-8N2K',
        proposalRef: 'PR-26A7',
        collectionRef: 'COL-8N2K',
        guestRequestRef: 'GR-441',
        cards: [
          {label:'Option A', unit:'UNIT-93QX', offer:'OFR-7K2M', price:'‚Ç¨1,940', meta:'7 nights ‚Ä¢ 8 guests ‚Ä¢ Pool ‚Ä¢ 4.6 guest score'},
          {label:'Option B', unit:'UNIT-7MPL', offer:'OFR-3R1D', price:'‚Ç¨2,120', meta:'7 nights ‚Ä¢ 8 guests ‚Ä¢ Sea view ‚Ä¢ Flexible check-in'},
          {label:'Option C', unit:'UNIT-X11D', offer:'OFR-9L4P', price:'‚Ç¨2,060', meta:'7 nights ‚Ä¢ 8 guests ‚Ä¢ Family layout ‚Ä¢ Strong value'}
        ]
      },
      {
        link: '/p/PR-51D3/c/COL-2T9V',
        proposalRef: 'PR-51D3',
        collectionRef: 'COL-2T9V',
        guestRequestRef: 'GR-602',
        cards: [
          {label:'Option A', unit:'UNIT-K2A1', offer:'OFR-1N8H', price:'‚Ç¨2,680', meta:'10 nights ‚Ä¢ 6 guests ‚Ä¢ Quiet area ‚Ä¢ 4.8 guest score'},
          {label:'Option B', unit:'UNIT-M8Q4', offer:'OFR-5U3C', price:'‚Ç¨2,740', meta:'10 nights ‚Ä¢ 6 guests ‚Ä¢ Sunset terrace ‚Ä¢ Late checkout'}
        ]
      }
    ];

    const collectionSel = document.getElementById('collectionSel');
    const variantSel = document.getElementById('variantSel');
    const shell = document.getElementById('shell');

    const collectionTitle = document.getElementById('collectionTitle');
    const collectionMeta = document.getElementById('collectionMeta');
    const pillRow = document.getElementById('pillRow');
    const stack = document.getElementById('stack');
    const subtitle = document.getElementById('subtitle');
    const navState = document.getElementById('navState');
    const dockText = document.getElementById('dockText');

    collections.forEach((c, i) => {
      const o = document.createElement('option');
      o.value = String(i);
      o.textContent = c.link;
      collectionSel.appendChild(o);
    });

    function renderCards(cards) {
      stack.innerHTML = '';
      cards.forEach(card => {
        const el = document.createElement('article');
        el.className = 'card';
        el.innerHTML = `
          <div class="head">
            <h4>${card.label} <span class="muted">‚Ä¢ ${card.unit}</span></h4>
            <div class="price">${card.price}</div>
          </div>
          <div class="muted">Offer ref: ${card.offer} ‚Ä¢ ${card.meta}</div>
          <div class="actions">
            <button class="btn">üëç Like</button>
            <button class="btn">üëé Dislike</button>
            <button class="btn">üìû Call me back</button>
            <button class="btn primary">‚úÖ Book</button>
          </div>
        `;
        stack.appendChild(el);
      });
    }

    function render() {
      const c = collections[Number(collectionSel.value || 0)];

      collectionTitle.textContent = `Proposal collection ${c.collectionRef}`;
      collectionMeta.textContent = `Proposal ${c.proposalRef} ‚Ä¢ Guest request ${c.guestRequestRef} ‚Ä¢ ${c.cards.length} curated options`;
      subtitle.textContent = `Shared link opens this collection only: ${c.link}`;

      pillRow.innerHTML = `
        <span class="pill">Link scope: single collection</span>
        <span class="pill">No listing names exposed</span>
        <span class="pill">ID-only refs (proposal / unit / offer)</span>
      `;

      dockText.textContent = `Events: collection_view(${c.collectionRef}) ‚Ä¢ card_impression ‚Ä¢ feedback_selected(like|dislike|callback|book)`;
      renderCards(c.cards);

      if (variantSel.value === 'wl') {
        shell.classList.add('wl');
        navState.textContent = 'Navigation locked ‚Ä¢ No-logo mode';
      } else {
        shell.classList.remove('wl');
        navState.textContent = 'Secure proposal session';
      }
    }

    collectionSel.addEventListener('change', render);
    variantSel.addEventListener('change', render);
    render();
  </script>
</body>
</html>